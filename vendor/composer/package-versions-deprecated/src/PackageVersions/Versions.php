<?php

declare(strict_types=1);

namespace PackageVersions;

use Composer\InstalledVersions;
use OutOfBoundsException;

class_exists(InstalledVersions::class);

/**
 * This class is generated by composer/package-versions-deprecated, specifically by
 * @see \PackageVersions\Installer
 *
 * This file is overwritten at every run of `composer install` or `composer update`.
 *
 * @deprecated in favor of the Composer\InstalledVersions class provided by Composer 2. Require composer-runtime-api:^2 to ensure it is present.
 */
final class Versions
{
    /**
     * @deprecated please use {@see self::rootPackageName()} instead.
     *             This constant will be removed in version 2.0.0.
     */
    const ROOT_PACKAGE_NAME = 'oxid-esales/oxideshop-project';

    /**
     * Array of all available composer packages.
     * Dont read this array from your calling code, but use the \PackageVersions\Versions::getVersion() method instead.
     *
     * @var array<string, string>
     * @internal
     */
    const VERSIONS          = array (
  'amzn/amazon-pay-sdk-php' => '3.4.1@aff849d831b95469d68708ac1bdb316a56896e4c',
  'bestit/amazonpay4oxid' => '3.6.8@b6890e8448e8765d411c03dbb962af36eaed57e0',
  'composer/ca-bundle' => '1.3.1@4c679186f2aca4ab6a0f1b0b9cf9252decb44d0b',
  'composer/composer' => '2.2.12@ba61e768b410736efe61df01b61f1ec44f51474f',
  'composer/metadata-minifier' => '1.0.0@c549d23829536f0d0e984aaabbf02af91f443207',
  'composer/package-versions-deprecated' => '1.11.99.5@b4f54f74ef3453349c24a845d22392cd31e65f1d',
  'composer/pcre' => '1.0.1@67a32d7d6f9f560b726ab25a061b38ff3a80c560',
  'composer/semver' => '3.3.2@3953f23262f2bff1919fc82183ad9acb13ff62c9',
  'composer/spdx-licenses' => '1.5.6@a30d487169d799745ca7280bc90fdfa693536901',
  'composer/xdebug-handler' => '3.0.3@ced299686f41dce890debac69273b47ffe98a40c',
  'ddoe/wysiwyg-editor-module' => 'v2.4.1@e15560c4fb8ce20744297f2b20d8bcf24a6d4ba7',
  'doctrine/cache' => '1.12.1@4cf401d14df219fa6f38b671f5493449151c9ad8',
  'doctrine/collections' => '1.6.8@1958a744696c6bb3bb0d28db2611dc11610e78af',
  'doctrine/dbal' => '2.12.1@adce7a954a1c2f14f85e94aed90c8489af204086',
  'doctrine/event-manager' => '1.1.1@41370af6a30faa9dc0368c4a6814d596e81aba7f',
  'doctrine/migrations' => '2.3.5@28d92a34348fee5daeb80879e56461b2e862fc05',
  'friendsofphp/proxy-manager-lts' => 'v1.0.12@8419f0158715b30d4b99a5bd37c6a39671994ad7',
  'justinrainbow/json-schema' => '5.2.12@ad87d5a5ca981228e0e205c2bc7dfb8e24559b60',
  'laminas/laminas-code' => '4.5.1@6fd96d4d913571a2cd056a27b123fa28cb90ac4e',
  'laminas/laminas-eventmanager' => '3.4.0@a93fd278c97b2d41ebbce5ba048a24e3e6f580ba',
  'laminas/laminas-zendframework-bridge' => '1.4.1@88bf037259869891afce6504cacc4f8a07b24d0f',
  'monolog/monolog' => '1.27.0@52ebd235c1f7e0d5e1b16464b695a28335f8e44a',
  'oxid-esales/flow-theme' => 'v3.8.0@ac349374393fb95708808f894c5284d1c8079f6f',
  'oxid-esales/gdpr-optin-module' => 'v2.3.3@d3177dd872d00bc7024cf2cf8b6f5b6b9435ab86',
  'oxid-esales/oxideshop-ce' => 'v6.9.1@481ba7a20acb9390f3311e7790a6f97c2311c18b',
  'oxid-esales/oxideshop-composer-plugin' => 'v5.2.1@e2416a2774eb268bb25eaf3bfd55f0fb023bdb73',
  'oxid-esales/oxideshop-db-views-generator' => 'v1.3.0@e442e67f35ba233b3b6da629ab69ffb7dc184864',
  'oxid-esales/oxideshop-demodata-ce' => 'v6.0.4@b32a586c0b849e52e0397b253c3268dc42ff7770',
  'oxid-esales/oxideshop-demodata-installer' => 'v1.3.0@bd0eb77103884cd8abbc13009c186498c2a85e34',
  'oxid-esales/oxideshop-doctrine-migration-wrapper' => 'v3.3.0@6e6abe372ce5913aa904ff7b9b89add950619f06',
  'oxid-esales/oxideshop-facts' => 'v2.4.0@f44cdf20642154b4bc3d04b5b93d819b671093da',
  'oxid-esales/oxideshop-metapackage-ce' => 'v6.3.2@e552df88e7292118a9c6eed7c82dc977b23aebe2',
  'oxid-esales/oxideshop-unified-namespace-generator' => 'v2.2.0@612582c4a21b2d4efd6424bcd69dc7c65ee175b0',
  'oxid-esales/paymorrow-module' => 'v2.1.0@82d16c90e0ec80d7a4ab8601bf5feefc2073eb90',
  'oxid-esales/paypal-module' => 'v6.4.0@072bf5599d38f1695abc15ed6dac2fb20fc35234',
  'oxid-esales/wave-theme' => 'v1.6.1@4ae7c2c94c2bef7860583529c83517a5601a64ca',
  'oxid-professional-services/usercentrics' => 'v1.2.0@6f8ef14e444860dca64828ff5ea0b7127d74a9ec',
  'paragonie/random_compat' => 'v2.0.21@96c132c7f2f7bc3230723b66e89f8f150b29d5ae',
  'payone-gmbh/oxid-6' => 'v1.6.2@dc2f45a7db1b86fdcfd15024dca452764fc18495',
  'phpmailer/phpmailer' => 'v6.6.0@e43bac82edc26ca04b36143a48bde1c051cfd5b1',
  'psr/cache' => '1.0.1@d11b50ad223250cf17b86e38383413f5a6764bf8',
  'psr/container' => '1.0.0@b7ce3b176482dbbc1245ebf52b181af44c2cf55f',
  'psr/log' => '1.1.4@d49695b909c3b7628b6289db5479a1c204601f11',
  'react/promise' => 'v2.9.0@234f8fd1023c9158e2314fa9d7d0e6a83db42910',
  'rmccue/requests' => 'v1.8.1@82e6936366eac3af4d836c18b9d8c31028fe4cd5',
  'seld/jsonlint' => '1.9.0@4211420d25eba80712bff236a98960ef68b866b7',
  'seld/phar-utils' => '1.2.0@9f3452c93ff423469c0d56450431562ca423dcee',
  'smarty/smarty' => 'v2.6.33@533fa2abe308dcc009c7bdab977d530b32408346',
  'symfony/cache' => 'v4.4.41@27121284fe32a7cefc225268761ec7ce1741b9ac',
  'symfony/cache-contracts' => 'v2.5.1@64be4a7acb83b6f2bf6de9a02cee6dad41277ebc',
  'symfony/config' => 'v4.4.41@9d031eb2d4292aed117b0f7fafd5c436dcf3dfd7',
  'symfony/console' => 'v3.4.47@a10b1da6fc93080c180bba7219b5ff5b7518fe81',
  'symfony/debug' => 'v4.4.41@6637e62480b60817b9a6984154a533e8e64c6bd5',
  'symfony/dependency-injection' => 'v3.4.47@51d2a2708c6ceadad84393f8581df1dcf9e5e84b',
  'symfony/event-dispatcher' => 'v3.4.47@31fde73757b6bad247c54597beef974919ec6860',
  'symfony/expression-language' => 'v3.4.47@de38e66398fca1fcb9c48e80279910e6889cb28f',
  'symfony/filesystem' => 'v4.4.39@72a5b35fecaa670b13954e6eaf414acbe2a67b35',
  'symfony/finder' => 'v3.4.47@b6b6ad3db3edb1b4b1c1896b1975fb684994de6e',
  'symfony/lock' => 'v3.4.47@8d451ed419a3d5d503bd491437b447fd4c549ceb',
  'symfony/polyfill-ctype' => 'v1.25.0@30885182c981ab175d4d034db0f6f469898070ab',
  'symfony/polyfill-mbstring' => 'v1.25.0@0abb51d2f102e00a4eefcf46ba7fec406d245825',
  'symfony/polyfill-php70' => 'v1.20.0@5f03a781d984aae42cebd18e7912fa80f02ee644',
  'symfony/polyfill-php73' => 'v1.25.0@cc5db0e22b3cb4111010e48785a97f670b350ca5',
  'symfony/polyfill-php80' => 'v1.25.0@4407588e0d3f1f52efb65fbe92babe41f37fe50c',
  'symfony/polyfill-php81' => 'v1.25.0@5de4ba2d41b15f9bd0e19b2ab9674135813ec98f',
  'symfony/process' => 'v5.4.8@597f3fff8e3e91836bb0bd38f5718b56ddbde2f3',
  'symfony/service-contracts' => 'v2.2.0@d15da7ba4957ffb8f1747218be9e1a121fd298a1',
  'symfony/stopwatch' => 'v5.4.5@4d04b5c24f3c9a1a168a131f6cbe297155bc0d30',
  'symfony/var-exporter' => 'v5.4.8@7e132a3fcd4b57add721b4207236877b6017ec93',
  'symfony/yaml' => 'v3.4.47@88289caa3c166321883f67fe5130188ebbb47094',
  'topconcepts/oxid-klarna-6' => 'v5.5.2@9c5e12c3dab55669210853134a341d3f56bfb687',
  'webmozart/assert' => '1.10.0@6964c76c7804814a842473e0c8fd15bab0f18e25',
  'webmozart/glob' => '4.5.0@287cba1544a235310439d59594dffabb2f8f6c07',
  'webmozart/path-util' => '2.3.0@d939f7edc24c9a1bb9c0dee5cb05d8e859490725',
  'oxid-esales/oxideshop-project' => 'dev-b-6.3-ce@',
);

    private function __construct()
    {
    }

    /**
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function rootPackageName() : string
    {
        if (!self::composer2ApiUsable()) {
            return self::ROOT_PACKAGE_NAME;
        }

        return InstalledVersions::getRootPackage()['name'];
    }

    /**
     * @throws OutOfBoundsException If a version cannot be located.
     *
     * @psalm-param key-of<self::VERSIONS> $packageName
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function getVersion(string $packageName): string
    {
        if (self::composer2ApiUsable()) {
            return InstalledVersions::getPrettyVersion($packageName)
                . '@' . InstalledVersions::getReference($packageName);
        }

        if (isset(self::VERSIONS[$packageName])) {
            return self::VERSIONS[$packageName];
        }

        throw new OutOfBoundsException(
            'Required package "' . $packageName . '" is not installed: check your ./vendor/composer/installed.json and/or ./composer.lock files'
        );
    }

    private static function composer2ApiUsable(): bool
    {
        if (!class_exists(InstalledVersions::class, false)) {
            return false;
        }

        if (method_exists(InstalledVersions::class, 'getAllRawData')) {
            $rawData = InstalledVersions::getAllRawData();
            if (count($rawData) === 1 && count($rawData[0]) === 0) {
                return false;
            }
        } else {
            $rawData = InstalledVersions::getRawData();
            if ($rawData === null || $rawData === []) {
                return false;
            }
        }

        return true;
    }
}
